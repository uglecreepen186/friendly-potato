## README: Telegram Image Converter Bot

### Описание проекта

Этот проект представляет собой Telegram-бота, который позволяет пользователям конвертировать изображения, отправленные в Telegram, в различные форматы. Поддерживаются такие форматы, как JPEG, PNG, WebP, BMP, и другие. Пользователь загружает изображение, выбирает целевой формат, и бот возвращает изображение в указанном формате.

---

### Требования

1. Python версии 3.8 и выше
2. Установленные пакеты:
   - aiogram: для работы с Telegram API
   - scikit-image: для обработки изображений
3. Telegram API Token

---

### Установка и настройка

1. Установка зависимостей

   Перейдите в папку проекта и установите зависимости:
  
   cd ваш-репозиторий
   pip install -r requirements.txt
   
   Если у вас нет файла requirements.txt, установите необходимые пакеты вручную:
  
   pip install aiogram scikit-image
   
3. Настройка Telegram API Token

   Для работы бота вам нужен Telegram API токен. Для его получения выполните следующие шаги:
   - Откройте Telegram и найдите бот [@BotFather](https://t.me/BotFather).
   - Используйте команду /newbot для создания нового бота.
   - После настройки вам будет предоставлен токен.

   Замените значение API_TOKEN на ваш токен в коде:
  
   API_TOKEN = 'ваш токен'
   
4. Запуск бота

   Для запуска бота выполните команду:
  
   python main.py
   
---

### Использование

1. Запустите бота.
2. Отправьте ему любое изображение.
3. Бот предложит выбрать один из доступных форматов для конвертации.
4. Выберите нужный формат, и бот вернет вам конвертированное изображение.

---

### Поддерживаемые форматы

- JPEG (jpg, jpeg)
- PNG
- WebP
- BMP
- PPM

---

### Основные компоненты кода

1. `send_welcome()`  
   Отвечает пользователю приветственным сообщением при использовании команды /start.

2. `handle_image()`  
   Обрабатывает загруженные пользователями изображения. Сохраняет идентификатор изображения и предлагает выбрать формат для конвертации с помощью inline-кнопок.

3. `process_callback()`  
   Отвечает на выбор формата. Загружает исходное изображение, конвертирует его в выбранный формат, сохраняет и отправляет пользователю результат.

4. Асинхронные функции  
   Код использует асинхронные операции для работы с Telegram API, что делает взаимодействие с ботом быстрым и отзывчивым.

---

### Примечания

- В коде используется библиотека scikit-image для работы с изображениями. Она позволяет легко считывать изображения в память и сохранять их в различных форматах.
- Конвертированные файлы временно сохраняются на диске и удаляются сразу после отправки пользователю.
- Бот хранит загруженные файлы в словаре file_storage на время конвертации, после чего данные удаляются.

---

### Возможные улучшения

- Добавить возможность изменения разрешения изображения перед конвертацией.
- Реализовать обработку и конвертацию GIF-анимаций.
- Добавить локализацию для интерфейса бота.

---

### Лицензия

Этот проект открыт для использования и модификации в личных и коммерческих целях.
